<div class="create-users-component" [ngClass]="{ 'dark-theme-mode create-users-component-dark': isDarkTheme }">
    <div class="content content-create-component" *ngIf="translations.length > 1">
        <h2> {{translations[10].translate}} </h2>
        <form [formGroup]="createUser" id="create_user" (ngSubmit)="onSubmit(createUser)">
            <div class="form-container">
                <div class="row my-row container-fluid">
                    <div class="col-md-12">
                        <mat-form-field class="container-fluid">
                            <input autocomplete="off" class="form-input" matInput formControlName="username"
                                placeholder="{{translations[3].translate}}">
                            <mat-error
                                *ngIf="createUser.controls['username'].errors?.mySpecialError || !createUser.controls['username'].errors?.myRepeatError">
                                {{translations[17].translate}}
                            </mat-error>
                            <mat-error *ngIf="createUser.controls['username'].errors?.myRepeatError">
                                {{translations[18].translate}}
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <br>
                <div class="row my-row container-fluid">
                    <div class="col-md-6">
                        <mat-form-field class="container-fluid">
                            <input autocomplete="off" class="form-input" matInput formControlName="first_name"
                                placeholder="{{translations[11].translate}}">
                            <mat-error> {{translations[19].translate}}
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-md-6 reponsive-padding">
                        <mat-form-field class="container-fluid ">
                            <input autocomplete="off" class="form-input" matInput formControlName="last_name"
                                placeholder="{{translations[12].translate}} ({{translations[13].translate}})">
                        </mat-form-field>
                    </div>
                </div>
                <br>
                <div class="row my-row container-fluid">
                    <div class="col-md-12">
                        <mat-form-field class="container-fluid">
                            <input autocomplete="off" class="form-input" matInput formControlName="email" type="email"
                                placeholder="{{translations[5].translate}}">
                            <mat-error>{{translations[20].translate}}</mat-error>
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="buttons-container">
                <a routerLink="/users">
                    <button mat-raised-button color="primary" class="primary-button cancel-button">
                        {{translations[14].translate}} </button>
                </a>
                <button mat-raised-button color="primary" class="primary-button new-user-button right" type="submit">
                    {{translations[10].translate}} </button>
                <!-- 
                The code beneath makes the button disbaled until the form is valid but it is not good practice.
                If the user submits an invalid username there will be no indicators to them that the form is invalid
                and will assume the page is not working. A more practical way is add mat-erros and in the submit function
                only run it if the form is valid            
            -->
                <!-- <button mat-raised-button color="primary" class="primary-button new-user-button right" type="submit"
                [disabled]="!createUser.valid"> Add New User
            </button> -->
            </div>
        </form>

    </div>
    <div *ngIf="!translations.length > 1" class="center overlay"><img src="/assets/images/pulse.gif" alt="image">
    </div>
</div>